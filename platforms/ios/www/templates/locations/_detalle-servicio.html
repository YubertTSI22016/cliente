<ion-view view-title="Detalle del servicio" class="project-detail">

  <ion-nav-bar class="bar bar-dark bar-special">

    <ion-nav-back-button class="button-energized">Volver</ion-nav-back-button>

  </ion-nav-bar>

  <ion-content class="has-header" style="top:0;">

    <div class="header-slideshow-wrapper">

      <div class="header-slideshow-image" 
        style="margin-top:65px; height: 155px; background-image:url(https://maps.googleapis.com/maps/api/staticmap?center={{servicio.coordenadasOrigen}}&zoom={{configMapa.zoom}}&size=375x154&maptype=roadmap{{configMapa.puntosPath}}&key=AIzaSyBxfPmvHbNozhPG_0934HjQV4mb7KoHkXE);">
      </div>

      <!-- &style=element:labels|visibility:off -->

    </div>

    <div class="list padding">
      <h4 class="text-center"><span class="positive">{{servicio.estado}}</span></h4>
      <p>{{servicio.descripcion}}</p>
      <div class="item item-divider">
        Datos del usuario
      </div>
      <a class="item item-icon-left">
        <i class="icon ion-person"></i>
        {{servicio.usuario.nombre}} {{servicio.usuario.apellido}}
      </a>
      <a class="item item-icon-left" ng-href="mailto:{{servicio.usuario.email.email}}">
        <i class="icon ion-email"></i>
        {{servicio.usuario.email.email}}
      </a>
      <a class="item item-icon-left" ng-href="tel:{{servicio.usuario.telefonoContacto.telefono}}">
        <i class="icon ion-ios-telephone"></i>
        {{servicio.usuario.telefonoContacto.telefono || 'No tiene'}}
      </a>

      <button class="button button-full button-balanced" ng-click="iniciar()" ng-if="servicio.estado == 'Aceptado'">Iniciar servicio</button>
      
      <div ng-if="servicio.estado == 'Iniciado'">
        <div class="item item-divider">
          Calificaci&oacute;n
        </div>
        <div class="item item-input">
          <rating ng-model="reviewData.calificacion" max="5" readonly="servicio.usuario.rating"></rating>
        </div>
        <button class="button button-full button-assertive" ng-click="finalizar()" ng-if="servicio.estado == 'Iniciado'">Finalizar servicio</button>
      </div>
      
    </div>

  </ion-content>

</ion-view>
